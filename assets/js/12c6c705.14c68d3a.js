"use strict";(globalThis.webpackChunktemp_site=globalThis.webpackChunktemp_site||[]).push([[5862],{4258:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Documentation-process/deprecating-a-file","title":"Deprecating documentation files","description":"Guidelines and procedures for safely deprecating and removing files from the Uyuni documentation suite using Antora best practices.","source":"@site/docs/Documentation-process/deprecating-a-file.mdx","sourceDirName":"Documentation-process","slug":"/Documentation-process/deprecating-a-file","permalink":"/Uyuni-Docs-Architecture/docs/Documentation-process/deprecating-a-file","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Documentation-process/deprecating-a-file.mdx","tags":[{"inline":true,"label":"deprecation","permalink":"/Uyuni-Docs-Architecture/docs/tags/deprecation"},{"inline":true,"label":"file-management","permalink":"/Uyuni-Docs-Architecture/docs/tags/file-management"},{"inline":true,"label":"antora","permalink":"/Uyuni-Docs-Architecture/docs/tags/antora"},{"inline":true,"label":"documentation-process","permalink":"/Uyuni-Docs-Architecture/docs/tags/documentation-process"},{"inline":true,"label":"content-lifecycle","permalink":"/Uyuni-Docs-Architecture/docs/tags/content-lifecycle"}],"version":"current","frontMatter":{"id":"deprecating-a-file","title":"Deprecating documentation files","sidebar_label":"File deprecation process","description":"Guidelines and procedures for safely deprecating and removing files from the Uyuni documentation suite using Antora best practices.","tags":["deprecation","file-management","antora","documentation-process","content-lifecycle"]},"sidebar":"tutorialSidebar","previous":{"title":"Changelog improvements","permalink":"/Uyuni-Docs-Architecture/docs/Documentation-process/changelog-system-improvement"},"next":{"title":"github-project-boards","permalink":"/Uyuni-Docs-Architecture/docs/Documentation-process/github-project-boards"}}');var t=i(4848),s=i(8453);const o={id:"deprecating-a-file",title:"Deprecating documentation files",sidebar_label:"File deprecation process",description:"Guidelines and procedures for safely deprecating and removing files from the Uyuni documentation suite using Antora best practices.",tags:["deprecation","file-management","antora","documentation-process","content-lifecycle"]},l="Deprecating documentation files",a={},c=[{value:"Overview",id:"overview",level:2},{value:"Deprecation Methods",id:"deprecation-methods",level:2},{value:"Method 1: Antora Underscore Prefix (Recommended)",id:"method-1-antora-underscore-prefix-recommended",level:3},{value:"Method 2: Manual Navigation Exclusion",id:"method-2-manual-navigation-exclusion",level:3},{value:"Standard Deprecation Process",id:"standard-deprecation-process",level:2},{value:"Step 1: Prepare the File",id:"step-1-prepare-the-file",level:3},{value:"Step 2: Update Navigation",id:"step-2-update-navigation",level:3},{value:"Step 3: Add Deprecation Header",id:"step-3-add-deprecation-header",level:3},{value:"Step 4: Alternative - Use Underscore Method",id:"step-4-alternative---use-underscore-method",level:3},{value:"Deprecation Notice Template",id:"deprecation-notice-template",level:2},{value:"Impact of Deprecation Methods",id:"impact-of-deprecation-methods",level:2},{value:"Using Underscore Prefix (<code>_filename.adoc</code>)",id:"using-underscore-prefix-_filenameadoc",level:3},{value:"Timeline and Deletion Policy",id:"timeline-and-deletion-policy",level:2},{value:"Deprecation Period",id:"deprecation-period",level:3},{value:"Deletion Criteria",id:"deletion-criteria",level:3},{value:"Pre-Deletion Checklist",id:"pre-deletion-checklist",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Planning Deprecation",id:"planning-deprecation",level:3},{value:"Documentation Standards",id:"documentation-standards",level:3},{value:"Communication",id:"communication",level:3},{value:"Troubleshooting Common Issues",id:"troubleshooting-common-issues",level:2},{value:"Broken Cross-References",id:"broken-cross-references",level:3},{value:"Tools and Automation",id:"tools-and-automation",level:2},{value:"Helpful Commands",id:"helpful-commands",level:3}];function d(e){const n={br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"deprecating-documentation-files",children:"Deprecating documentation files"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Process Type:"})," Content Lifecycle Management",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"Applies to:"})," All documentation files in Antora-based repositories",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"Review Cycle:"})," 12 months for deletion eligibility"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"The documentation is contained in a series of files, which loosely correspond to chapters within the books. In some cases, you might need to delete an entire file, either because a feature no longer exists, or because the content has moved into another location in the docs suite."}),"\n",(0,t.jsx)(n.p,{children:"We avoid deleting files immediately to ensure that:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Useful information isn't permanently lost"}),"\n",(0,t.jsx)(n.li,{children:"We can recover from accidental deletions"}),"\n",(0,t.jsx)(n.li,{children:"Historical context is preserved during transition periods"}),"\n",(0,t.jsx)(n.li,{children:"Search engines and external links have time to update"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"deprecation-methods",children:"Deprecation Methods"}),"\n",(0,t.jsx)(n.h3,{id:"method-1-antora-underscore-prefix-recommended",children:"Method 1: Antora Underscore Prefix (Recommended)"}),"\n",(0,t.jsxs)(n.p,{children:["Antora provides a built-in mechanism for excluding files from the content catalog by prefixing filenames with an underscore (",(0,t.jsx)(n.code,{children:"_"}),")."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Advantages:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Native Antora feature"})," - Uses built-in functionality"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Automatic exclusion"})," - File is not included in site generation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Preserved in repository"})," - File remains accessible in Git history"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Simple implementation"})," - Just rename the file"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Reversible"})," - Easy to undo by removing underscore"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Implementation:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Rename the file to add underscore prefix\nmv modules/administration/pages/feature-setup.adoc modules/administration/pages/_feature-setup.adoc\n"})}),"\n",(0,t.jsx)(n.h3,{id:"method-2-manual-navigation-exclusion",children:"Method 2: Manual Navigation Exclusion"}),"\n",(0,t.jsx)(n.p,{children:"Alternative approach for cases where you need more control over the deprecation process."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Use cases:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"When you want to keep the original filename"}),"\n",(0,t.jsx)(n.li,{children:"For gradual content migration scenarios"}),"\n",(0,t.jsx)(n.li,{children:"When coordinating with external documentation links"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"standard-deprecation-process",children:"Standard Deprecation Process"}),"\n",(0,t.jsx)(n.p,{children:"Follow this step-by-step process when deprecating any documentation file:"}),"\n",(0,t.jsx)(n.h3,{id:"step-1-prepare-the-file",children:"Step 1: Prepare the File"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Leave the file in place"})," in the directory structure"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Add deprecation notice"})," at the top of the file"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Document the reason"})," for deprecation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Specify replacement content"})," (if applicable)"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"step-2-update-navigation",children:"Step 2: Update Navigation"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Remove the link"})," to the file from the navigation file (",(0,t.jsx)(n.code,{children:"nav.adoc"})," or equivalent):"]}),"\n",(0,t.jsx)(n.h3,{id:"step-3-add-deprecation-header",children:"Step 3: Add Deprecation Header"}),"\n",(0,t.jsx)(n.p,{children:"Add a comprehensive comment at the top of the deprecated file:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-adoc",children:"////\nDEPRECATED: 2024-10-22\nAUTHOR: Your Name <your.email@domain.com>\nREASON: Feature removed in Uyuni 5.0 release\nREPLACEMENT: See xref:new-feature-guide.adoc[New Feature Guide] \nNOTES: Configuration examples moved to Administration Guide\nELIGIBLE FOR DELETION: 2025-10-22 (12 months from deprecation)\n////\n\n= Feature Setup (DEPRECATED)\n\n[WARNING]\n====\nThis page is deprecated and will be removed in a future release.\nThe feature described here was removed in Uyuni 5.0.\n\nFor current setup procedures, see xref:new-feature-guide.adoc[New Feature Guide].\n====\n"})}),"\n",(0,t.jsx)(n.h3,{id:"step-4-alternative---use-underscore-method",children:"Step 4: Alternative - Use Underscore Method"}),"\n",(0,t.jsx)(n.p,{children:"For immediate removal from content catalog:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Rename the file"})," with underscore prefix:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mv feature-setup.adoc _feature-setup.adoc\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Remove from navigation"})," (no need to comment out):"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-adoc",children:"* xref:new-feature-guide.adoc[New Feature Guide]\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Add deprecation header"})," in the renamed file for future reference"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"deprecation-notice-template",children:"Deprecation Notice Template"}),"\n",(0,t.jsx)(n.p,{children:"Use this template for consistent deprecation notices:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-adoc",children:'////\nDEPRECATED: YYYY-MM-DD\nAUTHOR: [Your Name] <[email@domain.com]>\nREASON: [Brief explanation of why deprecated]\nREPLACEMENT: [Link to replacement content or "None" if no replacement]\nMIGRATION NOTES: [Any important information for users]\nELIGIBLE FOR DELETION: YYYY-MM-DD (12 months from deprecation date)\n////\n\n= [Page Title] (DEPRECATED)\n\n[WARNING]\n====\nThis page is deprecated and will be removed in a future release.\n\n[Reason for deprecation]\n\n[Information about replacement content or migration path]\n====\n\n[Original content follows...]\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"impact-of-deprecation-methods",children:"Impact of Deprecation Methods"}),"\n",(0,t.jsxs)(n.h3,{id:"using-underscore-prefix-_filenameadoc",children:["Using Underscore Prefix (",(0,t.jsx)(n.code,{children:"_filename.adoc"}),")"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"User Experience:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Not in navigation"})," structure"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Still findable"})," via site search (if implemented)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cross-references"})," still work but lead to deprecated content"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Direct URLs"})," continue to function"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"SEO/External Impact:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Search engines"})," will eventually remove from indexes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"External links"})," will result in 404 errors"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Bookmarks"})," will no longer work"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"timeline-and-deletion-policy",children:"Timeline and Deletion Policy"}),"\n",(0,t.jsx)(n.h3,{id:"deprecation-period",children:"Deprecation Period"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Minimum deprecation period"}),": 12 months"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Deletion eligibility"}),": After 12 months from deprecation date"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Review requirement"}),": Must be reviewed before deletion"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"deletion-criteria",children:"Deletion Criteria"}),"\n",(0,t.jsx)(n.p,{children:"A file is eligible for deletion when:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"12+ months"})," have passed since deprecation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Replacement content"})," is stable and complete"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"pre-deletion-checklist",children:"Pre-Deletion Checklist"}),"\n",(0,t.jsx)(n.p,{children:"Before deleting a deprecated file:"}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Verify 12-month period has elapsed"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Confirm replacement content is adequate"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsx)(n.h3,{id:"planning-deprecation",children:"Planning Deprecation"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Coordinate with product teams"})," when features are removed"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Plan replacement content"})," before deprecating"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Consider gradual migration"})," for complex content"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"documentation-standards",children:"Documentation Standards"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Always include deprecation date"})," in notices"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Provide clear replacement paths"})," when available"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Use consistent formatting"})," for deprecation notices"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Maintain deprecation logs"})," for tracking purposes"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"communication",children:"Communication"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Inform the documentation team"})," of deprecations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Update project boards"})," and issue trackers"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Coordinate with release notes"})," for user-facing changes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Consider changelog entries"})," for significant deprecations"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting-common-issues",children:"Troubleshooting Common Issues"}),"\n",(0,t.jsx)(n.h3,{id:"broken-cross-references",children:"Broken Cross-References"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Problem"}),": Other files still reference deprecated content",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"Solution"}),": Use global search to find and update all references"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Search for references to deprecated file\ngrep -r "feature-setup" modules/\n'})}),"\n",(0,t.jsx)(n.h2,{id:"tools-and-automation",children:"Tools and Automation"}),"\n",(0,t.jsx)(n.h3,{id:"helpful-commands",children:"Helpful Commands"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Find all deprecated files (with underscore)\nfind modules/ -name "_*.adoc"\n\n# Search for potential orphaned references\ngrep -r "xref:.*deprecated-file" modules/\n\n# List files not referenced in navigation\n# (requires custom script or manual verification)\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"This process ensures that content changes are managed safely while maintaining the integrity and usability of the documentation suite."})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var r=i(6540);const t={},s=r.createContext(t);function o(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);